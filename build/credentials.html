<!DOCTYPE html>
<html lang="en-US">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../src/app.css">
    <head>
        <meta charset="utf-8">
        <title>Credentials</title>
        <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline';">
    </head>
    <body>
        <form id="credentials-form">
            <h2>Please enter your Lyrics API and Spotify API information:</h2>
            <labal for="lyrics-api-user-id">Lyrics API User ID:</labal>
            <input type="text" id="lyrics-api-user-id" name="lyrics-api-user-id"><br>

            <label for="lyrics-api-token">Lyrics API Token:</label>
            <input type="password" id="lyrics-api-token" name="lyrics-api-token"><br>

            <label for="spotify-api-id">Spotify API ID:</label>
            <input type="text" id="spotify-api-id" name="spotify-api-id"><br>

            <label for="spotify-api-secret">Spotify API Secret:</label>
            <input type="password" id="spotify-api-secret" name="spotify-api-secret"><br>

            <input type="submit" value="Submit">

            <p id="error-message" style="color: red; display: none;">Please fill out all fields.</p>
        </form>
    </body>
    <script>
        const credentialsForm = document.getElementById('credentials-form');

        credentialsForm.addEventListener('submit', (event) => {
            event.preventDefault();

            let userData = [];

            userData.push(document.getElementById('lyrics-api-user-id').value);
            userData.push(document.getElementById('lyrics-api-token').value);
            userData.push(document.getElementById('spotify-api-id').value);
            userData.push(document.getElementById('spotify-api-secret').value);

            if (userData.includes('')) {
                document.getElementById('error-message').style.display = 'block';
            } else {
                window.api.send('credentials-submitted', userData);
            }
        });
    </script>
</html>